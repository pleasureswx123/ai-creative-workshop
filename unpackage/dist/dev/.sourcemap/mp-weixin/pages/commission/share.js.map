{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/uni_h5/pages/commission/share.vue?6700","webpack:///C:/Users/Administrator/Desktop/uni_h5/pages/commission/share.vue?bb27","webpack:///C:/Users/Administrator/Desktop/uni_h5/pages/commission/share.vue?9f5d","webpack:///C:/Users/Administrator/Desktop/uni_h5/pages/commission/share.vue?9ec4","uni-app:///pages/commission/share.vue","webpack:///C:/Users/Administrator/Desktop/uni_h5/pages/commission/share.vue?06c9","webpack:///C:/Users/Administrator/Desktop/uni_h5/pages/commission/share.vue?8861"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","share","currentHaibao","currentText","siteroot","onLoad","system","onShow","uni","title","methods","getShare","app","url","platform","copyText","text","success","nextText","textArr","swiperChange","saveToAlbum","urls"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACiL;AACjL,gBAAgB,mLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAA2pB,CAAgB,6oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoC/qB;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;MACAC;MACAF;IACA;EACA;EACAG;IACAC;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACAC;QACAC;QACAb;UACAc;QACA;MACA;QACA;UACAb;UACAE;UACAD;QACA;MACA;IACA;IACAa;MACA;MACA;QACA;MACA;MACAC;MACAA;MACAR;QACAR;QACAiB;UACAL;QACA;MACA;IACA;IACAM;MAAA;MACA;MACA;MACA;QACAN;QACA;MACA;MACAO;QACA;UACA;UACA;YACA;cACAhB;YACA;UACA;YACA;cACAA;YACA;UACA;QACA;MACA;IACA;IACAiB;MACA;QACAlB;MACA;IACA;IACAmB;MACA;MACA;MACA;MACA;MACA;MAEAT;QACAJ;UACAc;QACA;MACA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACjIA;AAAA;AAAA;AAAA;AAAq8B,CAAgB,84BAAG,EAAC,C;;;;;;;;;;;ACAz9B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/commission/share.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/commission/share.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./share.vue?vue&type=template&id=00f59cb4&\"\nvar renderjs\nimport script from \"./share.vue?vue&type=script&lang=js&\"\nexport * from \"./share.vue?vue&type=script&lang=js&\"\nimport style0 from \"./share.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/commission/share.vue\"\nexport default component.exports","export * from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share.vue?vue&type=template&id=00f59cb4&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.share.textArr && _vm.share.textArr.length > 0\n  var f0 = g0 ? _vm._f(\"lang\")(\"分享文案\") : null\n  var f1 = g0 ? _vm._f(\"lang\")(\"复制文案\") : null\n  var g1 = g0 ? _vm.share.textArr.length : null\n  var f2 = g0 && g1 > 1 ? _vm._f(\"lang\")(\"换一个\") : null\n  var g2 = _vm.share.haibaoArr && _vm.share.haibaoArr.length > 0\n  var f3 = g2 ? _vm._f(\"lang\")(\"我的海报\") : null\n  var f4 = g2 ? _vm._f(\"lang\")(\"下载海报图片\") : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        f0: f0,\n        f1: f1,\n        g1: g1,\n        f2: f2,\n        g2: g2,\n        f3: f3,\n        f4: f4,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"page\">\r\n        <view v-if=\"share.textArr && share.textArr.length > 0\">\r\n            <view class=\"title\">{{ '分享文案' | lang }}</view>\r\n            <view class=\"pannel\">\r\n                <view class=\"textarea\">\r\n                    <view v-html=\"currentText + '<br>' + share.h5url\"></view>\r\n                </view>\r\n                <view class=\"btn-group\">\r\n                    <view class=\"btn btn-copy\" @tap=\"copyText\">{{ '复制文案' | lang }}</view>\r\n                    <view class=\"btn btn-next\" @tap=\"nextText\" v-if=\"share.textArr.length > 1\">{{ '换一个' | lang }}</view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <view v-if=\"share.haibaoArr && share.haibaoArr.length > 0\">\r\n            <view class=\"title\">{{ '我的海报' | lang }}</view>\r\n            <view class=\"pannel\">\r\n                <swiper class=\"poster-list\" @change=\"swiperChange\" :indicator-dots=\"true\" :current=\"currentHaibao\" :circular=\"true\" :autoplay=\"false\" previous-margin=\"-10rpx\" next-margin=\"-10rpx\">\r\n                    <swiper-item class=\"item\" v-for=\"item in share.haibaoArr\">\r\n                        <view class=\"poster\" :style=\"'width: ' + (item.bg_w * item.scale) + 'rpx; height: ' + (item.bg_h * item.scale) + 'rpx;'\">\r\n                            <image :src=\"item.bg\" style=\"width: 100%; height: 100%;\"></image>\r\n                            <image :src=\"share.qrcode\" :style=\"'left: '+ (item.hole_x * item.scale) + 'rpx; top: ' + (item.hole_y * item.scale) + 'rpx; width: ' + (item.hole_w * item.scale) + 'rpx; height:' + (item.hole_h * item.scale) + 'rpx;'\"></image>\r\n                        </view>\r\n                    </swiper-item>\r\n                </swiper>\r\n                <view class=\"btn-group\" style=\"margin-top: 100rpx;\">\r\n                    <view class=\"btn btn-save\" @tap=\"saveToAlbum\">{{ '下载海报图片' | lang }}</view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        \r\n        <canvas canvasId=\"poster\" style=\"display:block; height: 4000rpx; width: 4000rpx; position: absolute; left: -4000rpx; top: -4000rpx;\"></canvas>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\nconst app = getApp();\r\nexport default {\r\n    data() {\r\n        return {\r\n            share: {},\r\n\t\t\tcurrentHaibao: 0,\r\n\t\t\tcurrentText: '',\r\n\t\t\tsiteroot: ''\r\n        };\r\n    },\r\n    onLoad() {\r\n\t\tthis.getShare()\r\n\t\tthis.setData({\r\n\t\t\tsystem: app.globalData.system,\r\n\t\t\tsiteroot: app.globalData.siteroot.replace('/web.php', '')\r\n\t\t});\r\n    },\r\n    onShow() {\r\n\t\tuni.setNavigationBarTitle({\r\n\t\t\ttitle: this.$lang('邀请好友')\r\n\t\t})\r\n    },\r\n    methods: {\r\n        getShare: function() {\r\n\t\t\tapp.globalData.util.request({\r\n\t\t\t\turl: '/commission/getShare',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tplatform: 'h5'\r\n\t\t\t\t}\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tshare: res.data,\r\n\t\t\t\t\tcurrentText: res.data.defaultText,\r\n\t\t\t\t\tcurrentHaibao: res.data.defaultHaibao\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tcopyText() {\r\n\t\t\tvar text = this.currentText\r\n\t\t\tif(!text) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\ttext += \"<br>\" + this.share.h5url\r\n\t\t\ttext = text.replaceAll(\"<br>\", \"\\n\");\r\n\t\t\tuni.setClipboardData({\r\n\t\t\t\tdata: text,\r\n\t\t\t\tsuccess: function() {\r\n\t\t\t\t\tapp.globalData.util.message('复制成功')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tnextText() {\r\n\t\t\tvar currentText = this.currentText\r\n\t\t\tvar textArr = this.share.textArr\r\n\t\t\tif(!textArr || textArr.length <= 1) {\r\n\t\t\t\tapp.globalData.util.message('没有更多了')\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\ttextArr.forEach((item, index) => {\r\n\t\t\t\tif(item.content == currentText) {\r\n\t\t\t\t\t// 切换到下一个\r\n\t\t\t\t\tif(index === textArr.length -1) {\r\n\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\tcurrentText: textArr[0]['content']\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\tcurrentText: textArr[index+1]['content']\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tswiperChange: function(e) {\r\n\t\t\tthis.setData({\r\n\t\t\t\tcurrentHaibao: e.detail.current\r\n\t\t\t})\r\n\t\t},\r\n\t\tsaveToAlbum: function() {\r\n\t\t\tconst haibaoArr = this.share.haibaoArr\r\n\t\t\tconst currentHaibao = this.currentHaibao\r\n\t\t\tconst haibao = haibaoArr[currentHaibao]\r\n\t\t\tconst qrcode = this.share.qrcode\r\n\t\t\tconst poster = 'https://' + window.location.host + '/web.php/commission/makePoster?bg=' + encodeURIComponent(haibao.bg) + '&qrcode=' + encodeURIComponent(qrcode) + '&hole_w=' + haibao.hole_w + '&hole_h=' + haibao.hole_h + '&hole_x=' + haibao.hole_x + '&hole_y=' + haibao.hole_y;\r\n\t\t\t\r\n\t\t\tapp.globalData.util.message('请长按弹出的图片->保存到手机', 'error', function() {\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: [poster]\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t\r\n\t\t}\r\n    }\r\n};\r\n</script>\r\n<style>\r\npage {\r\n\tbackground: #f7f7f8;\r\n}\r\n.page {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    padding-bottom: 30rpx;\r\n    overflow-x: hidden;\r\n}\r\n.title {\r\n    width: 100%;\r\n    padding: 30rpx 30rpx;\r\n    font-size: 28rpx;\r\n    font-weight: bold;\r\n}\r\n.pannel {\r\n    width: 690rpx;\r\n    margin: 0 30rpx;\r\n    background: #fff;\r\n    border-radius: 20rpx;\r\n    padding: 30rpx;\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n}\r\n.pannel .textarea {\r\n    font-size: 24rpx;\r\n    color: #333;\r\n    line-height: 36rpx;\r\n    background: #f7f7f8;\r\n    border-radius: 20rpx;\r\n    padding: 30rpx;\r\n    min-height: 180rpx;\r\n\tbox-sizing: border-box;\r\n}\r\n.pannel .btn-group {\r\n    width: 100%;\r\n    height: 64rpx;\r\n    margin: 40rpx 0 20rpx 0;\r\n    text-align: center;\r\n}\r\n.pannel .btn-group view {\r\n    display: inline-block;\r\n}\r\n.btn-group .btn {\r\n    width: 200rpx;\r\n\tmargin: 0 auto;\r\n\tfont-size: 28rpx;\r\n\tfont-weight: 500;\r\n\ttext-align: center;\r\n\theight: 64rpx;\r\n\tline-height: 64rpx;\r\n    border-radius: 32rpx;\r\n    background: #04babe;\r\n    color: #fff;\r\n    border: 1px solid #04babe;\r\n    letter-spacing: 1px;\r\n}\r\n.btn-group .btn:active {\r\n    opacity: 0.8;\r\n}\r\n\r\n.btn-group .btn-next {\r\n    margin-left: 30rpx;\r\n    background: #fff;\r\n    color: #04babe;\r\n}\r\n\r\n.btn-group .btn-save {\r\n    width: 400rpx;\r\n\tfont-weight: 500;\r\n\tcolor: #ffffff;\r\n\ttext-align: center;\r\n}\r\n\r\n.poster-list {\r\n\twidth:100%;\r\n    height: 500rpx;\r\n    margin: 20rpx 0;\r\n}\r\n.poster-list .item {\r\n\twidth: 500rpx;\r\n\theight: 750rpx;\r\n}\r\n.poster {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: relative;\r\n    margin: 0 auto;\r\n}\r\n.poster image {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1705469480582\n      var cssReload = require(\"D:/360极速浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}