<view data-event-opts="{{[['tap',[['hideCopyBtn',['$event']]]]]}}" style="height:100%;" bindtap="__e"><view class="page"><block wx:if="{{$root.g0}}"><scroll-view class="box-msg-list" style="{{('bottom: '+(inputShow?'316rpx':'102rpx')+';')}}" scroll-x="{{false}}" scroll-y="{{true}}" scroll-with-animation="{{false}}" scroll-top="{{scrollTop}}"><view class="list"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><block wx:if="{{item.$orig.user=='AI'}}"><view class="message" style="background:#f7f7f8;" data-index="{{index}}"><view class="avatar"><image mode="widthFix" src="/static/img/ic_ai.png" class="_img"></image></view><view class="text markdown-body"><text-component vue-id="{{'3a177736-1-'+index}}" text="{{item.$orig.message}}" bind:__l="__l"></text-component><view class="tools"><view><view data-event-opts="{{[['tap',[['copyText',['$0'],[[['lists','',index,'message']]]]]]]}}" class="btn" bindtap="__e"><image class="icon" src="/static/images/ic_copy.png"></image><label class="_span">{{item.f0}}</label></view></view><view><view class="btn" style="margin-right:0;" title="{{item.f1}}" data-event-opts="{{[['tap',[['retry',[index-1]]]]]}}" bindtap="__e"><image class="icon" src="/static/images/ic_retry.png"></image></view></view></view></view></view></block><block wx:else><view class="message" style="background:#fff;"><view class="avatar" style="background:#9aa37e;"><image mode="widthFix" src="{{userAvatar}}" class="_img"></image></view><view class="text markdown-body" data-text="{{item.$orig.message}}" data-event-opts="{{[['longpress',[['showCopyBtn',['$event']]]]]}}" bindlongpress="__e"><text-component vue-id="{{'3a177736-2-'+index}}" text="{{item.$orig.message}}" bind:__l="__l"></text-component></view></view></block></block></block><block wx:if="{{writing||writingText}}"><view class="message" style="background:#f7f7f8;"><view class="avatar"><image src="/static/img/ic_ai.png" class="_img"></image></view><view class="text markdown-body"><text-component vue-id="3a177736-3" text="{{writingText}}" writing="{{!!(writing||writingText)}}" bind:__l="__l"></text-component><view class="tools"><view><view data-event-opts="{{[['tap',[['stopFetch',['$event']]]]]}}" class="btn" bindtap="__e"><image class="icon" src="/static/images/ic_stop.png"></image><label class="_span">{{$root.f2}}</label></view></view></view></view></view></block><view data-event-opts="{{[['tap',[['copyText',['$0'],['copyBtnText']]]]]}}" class="btn-copy" style="{{('left:'+copyBtnLeft+'px;top:'+copyBtnTop+'px;')}}" bindtap="__e">{{$root.f3}}</view></view></scroll-view></block><block wx:else><scroll-view class="box-msg-list" style="{{('background: #f7f7f8; bottom: '+(inputShow?'316rpx':'102rpx')+';')}}" scroll-x="{{false}}" scroll-y="{{true}}" scroll-with-animation="{{false}}"><welcome vue-id="3a177736-4" module="write" title="{{welcomeTitle}}" desc="{{welcomeDesc}}" tips="{{welcomeTips}}" data-event-opts="{{[['^use',[['quickMessage']]]]}}" bind:use="__e" bind:__l="__l"></welcome></scroll-view></block><view class="box-input" style="{{('bottom: '+(inputShow?'0':'-204rpx')+';')}}"><view class="tools"><block wx:for="{{langs}}" wx:for-item="item" wx:for-index="index"><view data-event-opts="{{[['tap',[['changeLang',['$0'],[[['langs','',index]]]]]]]}}" class="{{['item',(item===lang)?'active':'']}}" bindtap="__e"><text>{{item}}</text><image class="ic_sj" src="/static/images/write/ic_sj.png"></image></view></block><view data-event-opts="{{[['tap',[['showInput',['$event']]]]]}}" class="item close" style="{{('transform: rotate('+(inputShow?'180':0)+'deg);')}}" bindtap="__e"><image style="width:32rpx;height:32rpx;" src="/static/images/write/ic_up.png"></image></view></view><view class="input"><textarea type="text" fixed="{{true}}" auto-height="{{true}}" placeholder="{{prompt.hint}}" maxlength="3000" cursor-spacing="0" data-event-opts="{{[['focus',[['inputFocus',['$event']]]],['input',[['__set_model',['','message','$event',[]]]]]]}}" value="{{message}}" bindfocus="__e" bindinput="__e"></textarea><button class="btn-send" type="submit" data-event-opts="{{[['tap',[['sendText',['$event']]]]]}}" bindtap="__e"><image src="/static/images/ic_send.png"></image></button></view></view></view></view>